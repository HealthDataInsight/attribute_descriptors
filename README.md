Usage
-----

Assuming you have a file containing the metadata for your model you can generate all attributes and validations for your model as seen below.

config/metadata/user.yml:

    Forename:
        validate: \D*
        require: yes


app/models/mymodel.rb:

    include metadata

    class User < Metadata::AutogeneratedModel
      generate_from 'config/metadata/user.yml'
    end


Then you can test it..

    user = User.new
    user.valid? # false
    user.errors # forename is blank

    attrs = {'forename' : 'john'}
    user = User.new(attrs)
    user.valid? # true

You can also access the metadata from the view, very handy to generate a form automatically.


Model extras
------------
Any model based on metadta, also inherits some extra methods as seen below.

attributes - shows all attributes the model can take
required_attributes - shows all attributes that are essential



Tests
-----

Install dependencies

    bundle

Run tests

    bundle exec rspec spec/metadata.rb    # common tests
    bundle exec rspec spec/validations.rb # test different validations


Metadata attributes
-------------------

The below attributes are being used for the generation of attributes and validations. You can still add your own metadata entries.

`validate` - regulare expression being used to validate the field. The regular expression tries to match the WHOLE field

`programmatic_name` - name that will be used in the code. If left blank, this will be a filtered version of the field name

`require` - tells if this field is required

`values` - list of permitted values for this data
